<!-- This page will show all store information existing in the database -->
<%- include ../partials/header.ejs %>
<%- include ../partials/main_nav.ejs %>

<main class="container p-4">

  <h1 class="text-center mb-3"><%= title %></h1>
  
  <a href="/store-list/add" class="btn btn-outline-success me-2">+ Create Your Own Store</a>
  <!--Container for store cards -->
  <div class="d-flex flex-row justify-content-start flex-wrap store-container mt-4">
    <% if (store.length !== 0) { %>
      <% for( let count = 0; count < store.length; count++ ) { %>
        <!-- Store card -->
        <div class="card store-card border border-5 mb-3 p-1" style="width: 18rem;">
          <img src="/Assets/images/theone_logo.png" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title"><%= store[count].storeName %> </h5>
            <p class="card-text"><%= store[count].about %></p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">Owner: <span class="owner fw-bold"><%= store[count].owner %></span></li>
            <% if (store[count].rate > 5) { %>
              <li class="list-group-item">Rate: <span class="rate-score text-success"><%= store[count].rate %></span>/10</li>
            <% } else { %>
              <li class="list-group-item">Rate: <span class="rate-score text-danger"><%= store[count].rate %></span>/10</li>
            <% } %>
            
            <li class="list-group-item">Type: <span class="shop-type"><%= store[count].type %></span></li>
            <li class="list-group-item">Location: <span class="shop-type"><%= store[count].location %></span></li>
          </ul>
          <div class="card-body d-flex text-center justify-content-evenly">
            <a href="/store-list/detail/<%= store[count]._id %>" class="btn btn-info">View</a>
            <a href="/store-list/edit/<%= store[count]._id %>" class="btn btn-success">Edit</a>
            <a href="/store-list/delete/<%= store[count]._id %>" class="btn btn-danger btn-delete-store">Delete</a>
          </div>
        </div>
        <!-- End Store card -->   
      <% } %>
    <% } %>    
</main>

<%- include ../partials/footer.ejs %>