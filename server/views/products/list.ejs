<!-- This page will show all product information existing in the database -->
<%- include ../partials/header.ejs %>
<%- include ../partials/main_nav.ejs %>

<main class="container p-4">

  <h1 class="title text-center mb-3"><%= title %></h1>
  
  <a href="/product-list/add" class="btn btn-outline-success me-2"><i class="fa-solid fa-plus"></i> Create Product</a>
  <!--Container for product cards -->
    <div class="d-flex flex-row justify-content-center flex-wrap product-container mt-4">
      <% if (product.length !== 0) { %>
        <% for( let count = 0; count < product.length; count++ ) { %>
          <!-- Product card -->
        <div class="card product-card border border-4 border-success mb-3 p-1" style="width: 18rem;">
            <img src="/Assets/images/theone_color_logo.png" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title product-name"><%= product[count].productName %> </h5>
              <p class="card-text product-about"><%=product[count].about %></p>
            </div>
            <ul class="list-group list-group-flush">
              <!-- Link to the specific owner product based on the owner id attribute of product model -->
              <% if (product[count].rate > 5) { %>
                <li class="list-group-item">Rate: <span class="rate-score text-success"><%= product[count].rate %></span>/10</li>
              <% } else { %>
                <li class="list-group-item">Rate: <span class="rate-score text-danger"><%= product[count].rate %></span>/10</li>
              <% } %>
              <li class="list-group-item">Type: <span class="shop-type"><%= product[count].type %></span></li>
            </ul>
            <div class="card-body d-flex text-center justify-content-evenly">
                <a href="/product-list/detail/<%= product[count]._id %>" class="btn btn-info">View</a>
                <a href="/product-list/edit/<%= product[count]._id %>" class="btn btn-success">Edit</a>
                <a href="/product-list/delete/<%= product[count]._id %>" class="btn btn-danger btn-delete-product">Delete</a>
            </div>
        </div>
          <!-- End Product card -->   
        <% } %>
      <% } %>
    </div>   
</main>
<%- include ../partials/footer.ejs %>